


## JavaScript的参数是按照什么方式传递的？



### 基本类型传递方式

由于js存在复杂类型和基本类型，**对于基本类型而言，是按值传递的**。


```js
var a = 1;
function test(x) {
  x = 10;
  console.log(x);
}
test(a); // 10
console.log(a); // 1

```
---

**对于引用类型而言，看着是按引用传递的（实则是共享传递）**

```js

var a = {
  a: 1,
  b: 2
};
function test(x) {
  x.a = 10;
  console.log(x);
}
test(a); // { a: 10, b: 2 }
console.log(a); // { a: 10, b: 2 }

```


```js

var a = {
  a: 1,
  b: 2
};
function test(x) {
  x = 10;
  console.log(x);
}
test(a); // 10
console.log(a); // { a: 1, b: 2 }
```
外部的a并没有被修改,如果是按引用传递的话,由于共享同一个堆内存,a在外部也会表现为10才对. 此时的复杂类型同时表现出了按值传递和按引用传递的特性.

-----

**共享传递是指: 在传递对象的时候，传递对象的引用的副本。**

注意： 按引用传递是传递对象的引用，而按共享传递是传递对象的引用的副本！

所以修改 x.a，可以通过引用找到原值，但是直接修改x，并不会修改原值。所以第二个和第三个例子其实都是按共享传递。

最后你可以这么理解：

**在JS中，参数如果是基本类型是按值传递，如果是引用类型按共享传递。**
**但是因为拷贝副本也是一种值的拷贝，所以在高程中也直接认为是按值传递了。**